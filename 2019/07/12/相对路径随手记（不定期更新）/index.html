<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="几乎所有的事情都具有多面性"><title>路径随手记（不定期更新） | 向阳成长</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">路径随手记（不定期更新）</h1><a id="logo" href="/.">向阳成长</a><p class="description">个人博客</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">路径随手记（不定期更新）</h1><div class="post-meta"><a href="/2019/07/12/相对路径随手记（不定期更新）/#comments" class="comment-count"></a><p><span class="date">Jul 12, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>一直以来对相对路径不是特别清楚，特来个小笔记复习一下</p>
<p>在Java中，相对路径这个概念并不是一层不变的，随着Java知识内容的不同,相对路径这个概念也在不断的变化。</p>
<h2 id="IO中的相对路径"><a href="#IO中的相对路径" class="headerlink" title="IO中的相对路径"></a>IO中的相对路径</h2><p>​    首先来说一下首次接触到的IO流里面的相对路径，这个时候的相对路径是相对于当前项目的根目录而言的。那么啥又叫当前项目的根目录呢？额。。。嗯。。。来看具体代码吧。</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径IO_1.PNG" alt></p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径IO_2.PNG" alt></p>
<p>​    a.txt这个文件是放在E:\IdeaProjects\base-code\baseCode下面的，其中base-code是项目的名称，而baseCode是项目里面具体模块的名称。再来看我是从什么地方访问的这个文件</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径IO_3.PNG" alt></p>
<p>​    访问这个文件的java类放在这个项目中某个模块里面多个层级目录下的，而这个类和这个类访问的a.txt的相对位置关系是啥？想一想？这个类放在src目录下，而这个类访问的a.txt文件的位置是与src目录平级的。那么如何找他们的相对路径关系呢？这样想，在src目录下能找到这个a.txt文件吗？很明显找不到，那么在哪个目录下面既能找到这个类又能找到这个类访问的a.txt文件呢？当然这两个资源都放在这个项目下面，在这个项目里面肯定能找到，但这不是重点！范文太大了，一个项目都有好几十个各种各样的目录和文件呢，直接在项目里面找找到猴年马月啊。那就缩小范围吧，这两个资源文件都放在这个项目下的baseCode这个模块下，这才是重点！！！也就是说这个模块是这两个资源文件存放位置==相同目录的最后一个目录==，也把这称为==根目录==。所以这里写的相对路径就是：<strong>baseCode\\a.txt</strong>。说白了，这里的根目录就是起到一个限制作用，限制你在哪个目录下面才能访问到想要访问的资源文件，而且这个目录必须是最后一个层级的目录。</p>
<p>​    假如此时我把a.txt移到src目录下，会出现什么结果呢？</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径IO_4.PNG" alt></p>
<p>吼吼吼，报错了。因为相对路径变了。在与src平级的目录下找不到a.txt这个文件。</p>
<p>但是这个时候如果把相对路径改为<strong>baseCode\\src\\a.txt</strong>或者就正确了。但是注意啊，如果写成<strong>\\src\\a.txt</strong>就不对了，为啥呢？我个人的理解是一个项目里面可以有很多的模块（不可以重名），而每个模块下又会有src这个目录，如果直接写<strong>\\src\\a.txt</strong>的话，idea根本分不清是哪一个模块下的src里面的a.txt文件，因此无法访问到。当然了，模块之间是可以相互访问的，但是这里不做介绍。</p>
<p>关于IO流里面的相对路径就先介绍到这里，如果有其他的还会后续更新</p>
<h2 id="类加载器中的相对路径"><a href="#类加载器中的相对路径" class="headerlink" title="类加载器中的相对路径"></a>类加载器中的相对路径</h2><p>​    这个相对来说就要简单粗暴的多了。这里的相对路就就是相当于当前模块的src文件夹而言的。</p>
<p>​    依然来看例子</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径_类加载器_01.PNG" alt></p>
<p>如果把要访问的文件不放在src下面，利用IO流里面相对路径的概念来进行访问的话会报错：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径_类加载器_02.PNG" alt></p>
<p>​    这表明IO流里面的相对路径规则在这里并不适用。或者说，如果把这种配置文件放在src以外的目录地方，就压根访问不到（包括牛皮的绝对路径）。因此提醒大家，==类加载器里面用到的文件要全部放在src目录下面==。放在这个目录下（无论放在这个目录的那个地方）利用类加载器总是能正确的直接利用文件名访问到。</p>
<h2 id="前端中的相对路径"><a href="#前端中的相对路径" class="headerlink" title="前端中的相对路径"></a>前端中的相对路径</h2><p>前端中的相对路径是相对于当前HTML文件而言的。这是什么意思呢？其实更精确的表达式相对于当前HTML所在路径（目录）而言的。比如来看以下几种情况简单了解一下：</p>
<p>如果html和要访问的资源文件（图片啊比如）在同一级目录下(同一个文件夹下，目录层级相同)，那么可以直接通过资源文件名进行访问。<strong>test.html和banner_1.jpg都在Practice目录下</strong>，因此可以直接访问</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径HTML_04.PNG" alt></p>
<p>但是如果二者不在同一级目录下的话就要分情况了，如果HTML在父级目录，要访问的资源文件在更深层次的目录下。<strong>test.html所在路径的根目录是HTML，而banner_1.jpg所在目录是Practice，而这个目录是HTML下面的一个目录</strong>，因此要访问banner_1.jpg就需要到HTML目录下相应的目录里面去寻找。</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径HTML_05.PNG" alt></p>
<p>如果HTML在子级目录(目录层级更深)，那么想要访问高级别的目录资源文件的话，无法通过高级别的目录名+资源文件名访问。而只能利用<strong>../</strong>返回上级目录。<strong>test.html在Parctice目录下，而banner_1.jpg在Practice的父目录HTML下</strong>，因此test.html要想访问该资源文件就需要向后退一级到父目录下才能访问到。</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径HTML_01.PNG" alt></p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径HTML_02.PNG" alt></p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/相对路径HTML_03.PNG" alt></p>
<p>==注意：在HTML中，引入资源文件的时候比如图片，相对路径前面其实都隐藏了一个当前html所在路径的目录。==</p>
<p><strong>../表示的是返回上一级    ../../ 表示的是返回上两级   以此类推</strong></p>
<p><strong>./表示的就是当前目录，可以省略不写。<br>                            ./1.jpg 跟 1.jpg 是一模一样的。</strong></p>
<h2 id="tomcat中的路径小记"><a href="#tomcat中的路径小记" class="headerlink" title="tomcat中的路径小记"></a>tomcat中的路径小记</h2><p>由于tomcat并不是在本地的，因此其路径表示也和以上几种有所不同。上面几种路径都和本地文件相关，获取的文件全都存储在本地，无论是相对路径还是绝对路径都和本地磁盘有关。但是tomcat就不一样了，它涉及项目或者资源在远端服务器部署的一个路径问题，和本地磁盘关系不大。</p>
<p>比如说现在有一个web项目，这个项目会存在于两个地方，一个是tomcat服务器，一个是本地的工作空间。之后通过浏览器访问web项目的时候，实际上是去寻找tomcat服务器上的项目，这个项目的路径被叫做真实路径或者文件运行路径。获取这个真实路径可以使用<strong>String getRealPath()</strong>获取。</p>
<p>首先来看项目在远端服务器上的一个目录结构（以Tomcat为例，注意不是在idea里面的项目结构）：</p>
<p><strong>项目的根目录</strong></p>
<p>​        <strong>WEB-INF目录：</strong></p>
<p>​                <strong>web.xml：web项目的核心配置文件</strong></p>
<p>​                <strong>classes目录：防止字节码文件的目录</strong></p>
<p>​                <strong>lib目录：用于存放依赖的jar包</strong></p>
<p>在idea当中java代码是写在src目录下，但是这个目录在tomcat服务器中并不存在，那么java代码在服务器中存放在哪呢？是以字节码的形式存储在<strong>classes</strong>目录下。而在本地磁盘上面部署到服务器上的项目则是被放在<strong>out</strong>目录下  </p>
<p>看一下idea上文件存放位置和在服务器上存放位置的一个对应关系</p>
<p>idea中：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/idea相应资源在服务器上存储的位置_1.PNG" alt></p>
<p>tomcat服务器中（使用ServletContext对象调用getRealPath()获取）：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/不同位置访问方式.PNG" alt></p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/服务器端路径位置.PNG" alt></p>
<p>由以上结果可以看出来，<strong>存放在idea的web目录下的文件在服务器上对应的是直接放在项目根路径下的；存放在idea的WEB-IF目录下的文件在服务器上对应的是存放在服务器上的WEB-INF目录下；存在在idea的src目录下的文件在服务器上对应的是存放在服务器上WEB-INF下的classes文件下</strong></p>
<p>那么被发布到远程服务器的项目在本地是保存在什么地方的呢？来看一下：</p>
<p>每一个项目都会对应一个相应的配置（我的这些配置存放路径如下）：<strong>C:\Users\Administrator.IntelliJIdea2018.1\system\tomcat\_base-code</strong></p>
<p>再来看一下这个配置里面都有啥：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/项目配置.PNG" alt></p>
<p>不知道啥意思？我也不知道。无所谓。接着看，进入到<strong>conf目录</strong>再进入到<strong>Catalina目录</strong>找到有个xml文件打开</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/xml文件.PNG" alt></p>
<p>有个变量：<strong>docBase</strong>,这是什么？当往服务器上发布项目的时候总得找到发布什么项目到服务器上吧，根据什么来找呢？就是根据这个<strong>docBase路径找到要发布的项目</strong>。</p>
<p>再进入到这个目录里面来看看：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/被发布到服务器上的东西.PNG" alt></p>
<p>之后这个路径里面所有的东西都会被发布到服务器上去（这是一个项目，不是零零散散的东西！），再来看看WEB-INF里面有什么东西：</p>
<p><img src="/2019/07/12/相对路径随手记（不定期更新）/WEB-INF里面的东西.PNG" alt></p>
<p>看吧，这样的目录结构很熟悉吧？<strong>WEB-INF</strong>下面有<strong>classes</strong>、<strong>lib</strong>、<strong>web.xml</strong>，项目在服务器端的目录结构不就是这个样子嘛。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: 小青年</p><p>原文链接: <a href="http://yoursite.com/2019/07/12/相对路径随手记（不定期更新）/">http://yoursite.com/2019/07/12/相对路径随手记（不定期更新）/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/07/24/Tomcat随手记/" class="pre">Tomcat随手小记</a><a href="/2019/07/08/数据库连接池/" class="next">数据库连接池浅析</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#IO中的相对路径"><span class="toc-text">IO中的相对路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类加载器中的相对路径"><span class="toc-text">类加载器中的相对路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端中的相对路径"><span class="toc-text">前端中的相对路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tomcat中的路径小记"><span class="toc-text">tomcat中的路径小记</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/04/SpringMVC异常处理机制/">SpringMVC异常处理机制浅析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/04/SpringMVC学习4/">SpringMVC学习--文件上传</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/03/SpringMVC学习3/">SpringMVC学习03---请求和响应</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/03/SpringMVC学习2/">SpringMVC学习02--web.xml和spring-mvc.xml</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/02/Spring整合Web/">Spring整合Web</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/02/SpringMVC学习1/">SpringMVC知识小记01</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/01/Spring事务随笔/">Spring声明式事务随笔</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/31/抽象工厂模式/">常见设计模式浅析---抽象工厂模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/30/Spring单例模式/">Spring常见设计模式浅析---单例设计模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/29/Spring工厂模式/">Spring常见设计模式浅析--工厂模式</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">小青年.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>